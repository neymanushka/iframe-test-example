<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <iframe class="iframe-child" src="child.html" height="200" width="300"></iframe> 
	<button class='button-parent'>PARENT BUTTON</button>
   	<script>
		const event = new CustomEvent('my_event', { detail: { data:'from parent' }})
		const handler = (e) => console.log('message from child', e.detail);

		window.document.addEventListener('my_event', handler, false);

		document.querySelector('.button-parent').onclick = () => {
			document.querySelector('.iframe-child').contentDocument.dispatchEvent(event)
		};

    </script>
</body>
</html>